---
title: "Установка boot9strap (USM)"
---

{% include toc title="Содержание" %}

### Обязательно к прочтению

Для того, чтобы использовать уязвимость в SAFE_MODE прошивке консоли, нам нужно внедрить модифицированный WiFi профиль.

Мы можем сделать это, используя существующий эксплойт, BannerBomb3.

Для этого мы используем ключ шифрования вашей консоли (movable.sed), чтобы создать резервную копию DSiWare, которая использует уязвимость консоли для внедрения модифицированного WiFi профиля в список подключений.

После того, как профиль Wi-Fi будет внедрен, мы используем SAFE_MODE, функцию восстановления, которая присутствует на всех консолях 3DS, для активации модифицированного WiFi профиля.

Эти инструкции работают на консолях регионов USA, Europe, Japan и Korea. На регион консоли указывает буква U, E, J или K после версии прошивки.

Если кнопки (L), (R), (Вверх) или (A) не работают, вам нужно будет использовать [Устаревший метод](legacy-methods). Если вам нужна помощь в этом деле, зайдите на сервер [Nintendo Homebrew в Discord](https://discord.gg/MWxPgEp) и попросите (на английском языке) вам помочь.
{: .notice--danger}

### Что понадобится

* Ваш файл `movable.sed`, полученный на странице [Seedminer](seedminer)
* Свежая версия [Luma3DS](https://github.com/AuroraWright/Luma3DS/releases/latest)

#### Часть I - Подготовительные работы

1. Перейдите по ссылке [unSAFE_MODE-bb3 tool](https://usm.bruteforcemovable.com/) на компьютере
1. Загрузите свой movable.sed, используя опцию "Выберите файл"
1. Нажмите кнопку "Download unSAFE_MODE-bb3 archive"
  + Начнется загрузка эксплойта DSiWare `F00D43D5.bin` и файла с данными для SAFE_MODE эксплойта `usm.bin` внутри zip-архива (`unSAFE_MODE-bb3.zip`)
1. Если консоль включена, выключите консоль
1. Вставьте SD-карту в компьютер
1. Скопируйте файлы `boot.firm` и `boot.3dsx` из `.zip-архива` Luma3DS в корень SD-карты
1. Скопируйте файл `usm.bin` из `.zip-архива` USM (`unSAFE_MODE-bb3.zip`) в корень SD-карты
1. Перейдите в папку `Nintendo 3DS` -> `<ID0>` -> `<32-значный-id>` -> `Nintendo DSiWare` на SD-карте
  + `<ID0>` будет таким же, как и на странице [Seedminer](seedminer)
  + Если папка `Nintendo DSiWare` не существует, создайте ее
1. Если в этой папке уже есть файлы бэкапа DSiWare (`<8-значный-id>.bin`), переместите их на компьютер
  + На этом шаге папка Nintendo DSiWare должна быть пустой. Перемещение файлов на компьютер гарантирует, что вы не удалите свои собственные бэкапы
1. Скопируйте файл `F00D43D5.bin` из `.zip-архива` USM (`unSAFE_MODE-bb3.zip`) в папку `Nintendo DSiWare`

#### Часть II - BannerBomb3

1. Вставьте SD-карту обратно в консоль
1. Включите консоль
1. Откройте Системные настройки на вашей консоли
1. Перейдите в `Управление данными` -> `DSiWare`
1. Перейдите в раздел Карта microSD
  + Нижний экран должен мигнуть красным, через несколько секунд консоль перезагрузится в меню HOME. Это означает, что модифицированный профиль был успешно скопирован
  + Если нижний экран не мигнул красным, модифицированный профиль не был скопирован и вы не сможете завершить следующую часть. Убедитесь, что все файлы на своих местах, затем попробуйте еще раз
1. Выключите консоль

#### Часть III - unSAFE_MODE

1. Когда консоль все еще выключена, удерживайте следующие кнопки: (L) + (R) + (Вверх) + (A), затем нажмите кнопку питания
  + Отпустите кнопки через несколько секунд. Ваша консоль загрузится в безопасный режим
1. Нажмите "OK" чтобы начать обновление
  + Обновления не будет. Это часть эксплойта
1. Нажмите "Я принимаю" чтобы принять условия
1. В конечном итоге обновление завершится ошибкой с кодом `003-1099`. Это ожидаемое поведение
1. При запросе "Выполнить Интернет-настройки?", выберите "Выполнить"
1. В следующем меню перейдите в `Связь 1` -> `Изменить настройки` -> `Следующая страница (стрелка вправо)` -> `Настройки прокси` -> `Подробнее`
1. Как только вы увидите `B9S install SUCCESS` на верхнем экране, нажмите любую кнопку, чтобы перезагрузиться в меню настроек Luma

#### Часть IV - Настройка Luma3DS

1. Ваша консоль должна автоматически показать меню настроек Luma
1. Нажимая (A) выберите следующие пункты:
  + **"Show NAND or user string in System Settings"**
1. Нажмите (Start), чтобы сохранить настройки и перезагрузиться
  + После короткой задержки консоль должна загрузить меню HOME. Если экран остаётся чёрным дольше 5 минут, обратитесь к разделу [Проблемы и их решения](troubleshooting#черный-экран-при-загрузке-sysnand-после-установки-boot9strap)

#### Часть V - Восстановление профилей конфигурации WiFi

1. Откройте Системные настройки на вашей консоли
1. Перейдите в `Управление данными` -> `DSiWare`
1. Перейдите в раздел Карта microSD
  + Нижний экран должен мигнуть зеленым, через несколько секунд консоль перезагрузится в меню HOME. Это означает, что профили конфигурации WiFi были успешно восстановлены
1. Выключите консоль
1. Вставьте SD-карту в компьютер
1. Перейдите в папку `Nintendo 3DS` -> `<ID0>` -> `<32-значный-id>` -> `Nintendo DSiWare` на SD-карте
  + `<ID0>` будет таким же, как и на странице [Seedminer](seedminer)
1. Удалите `F00D43D5.bin` из папки Nintendo DSiWare
1. Переходите к Завершению установки

___

### Следующий шаг: [Завершение установки](finalizing-setup)
{: .notice--primary}
