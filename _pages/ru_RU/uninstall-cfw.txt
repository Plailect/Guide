---
title: "Удаление кастомной прошивки"
---

{% include toc title="Содержание" %}

### Обязательно к прочтению

Эта инструкция служит для полного удаления кастомной прошивки с вашего устройства, включая Boot9Strap и Luma3DS, в целях восстановления оригинального состояния консоли.

Эта инструкция практически никогда не является решением любых проблем с кастомной прошивкой. Вместо этого прочтите информацию на странице [Проблемы и их решения](troubleshooting) или обратитесь (на английском языке) за помощью на сервер [Nintendo Homebrew в Discord](https://discord.gg/MWxPgEp).
{: .notice--danger}

Любые неподписанные (нелегальные) игры перестанут работать и должны быть удалены вручную перед началом этого процесса с помощью раздела Управление данными (Data Management) в Системных настройках (System Settings). Используйте [менеджер сохранений](https://github.com/FlagBrew/Checkpoint/releases/latest) чтобы создать резервные копии любых важных для вас сохранений этих неподписанных (нелегальных) игр.

Это не повлияет на ваш NNID, любые законно приобретенные игры или сохранения этих законно приобретенных игр.

Если вы модифицировали критические системные приложения (например модификация меню HOME, разбан консоли и т. д.), удаление кастомной прошивки может привести к БРИКУ!
{: .notice--danger}

Обратите внимание, что если у вас имеются другие файлы помимо `GodMode9.firm` в папке `/luma/payloads/` на SD-карте, удержание кнопки (Start) при загрузке будет запускать "chainloader menu", где вам нужно будет использовать D-Pad и кнопку (A) для выбора "GodMode9" при выполнении этих инструкций. 

### Что понадобится

* Свежая версия [GodMode9](https://github.com/d0k3/GodMode9/releases/latest)

### Инструкция

#### Часть I - Тест безопасности

1. Выключите консоль
1. Вставьте SD-карту в компьютер
1. Скопируйте `GodMode9.firm` из `.zip-архива` GodMode9 в папку `/luma/payloads/` на SD-карте
1. Скопируйте папку `gm9` из `.zip-архива` GodMode9 в корень SD-карты
1. Вставьте SD-карту обратно в консоль
1. Запустите GodMode9, держа нажатой кнопку (Start) во время загрузки
1. Если вам предложат создать бэкап важных файлов, нажмите кнопку (A) чтобы сделать это, затем нажмите (A) чтобы продолжить после завершения
1. Если вам предложат выставить RTC дату и время, нажмите кнопку (A) чтобы сделать это, настройте дату и время, затем нажмите (A) чтобы продолжить
  + Обратите внимание, что если вы выставили RTC дату и время, вам также придется исправить время в Системных настройках после завершения руководства
1. Перейдите в `[1:] SYSNAND CTRNAND > title > 00040138 > (X)0000002 > content`
  + На консолях версии "New" вместо (X) будет цифра 2
  + На консолях версии "Old" вместо (X) будет цифра 0
1. Выберите файл `.app`
1. Выберите `NCCH Image Options`
1. Выберите `Mount image to drive`
1. В открывшемся окне перейдите в папку `exefs`
1. В этой папке выберите файл `.firm`
1. Выберите "Firm Image Options"
1. Выберите "Boot Firm"
1. При появлении запроса "Decrypt before boot?" согласитесь, затем выберите "Make a copy"
1. Ваша консоль должна загрузиться в обычное меню HOME. Если это так, выключите консоль и переходите к следующей части
  + Если консоль НЕ загрузилась в обычное меню HOME, то выполнение дальнейших инструкций приведет к **БРИКУ**. Вам следует обратиться на сервер [Nintendo Homebrew в Discord](https://discord.gg/MWxPgEp) и попросите (на английском языке) кого-нибудь вам помочь
  
#### Часть II - Подготовка

1. Включите консоль
1. Перейдите в Системные настройки > Управление данными > Nintendo 3DS > Программы
1. В этом списке программ удалите всё, что не связано с Nintendo и было установлено во время использования кастомной прошивки
  + Сюда относятся системные программы, такие как FBI, Anemone3DS, Luma Updater, Homebrew Launcher, Checkpoint и другие, а также любые игры не из eShop
1. Перейдите в Управление данными > DSiWare
1. В этом списке программ удалите всё, что не связано с Nintendo и было установлено во время использования кастомной прошивки
  + Сюда относятся такие программы как TWiLightMenu++, а также любые игры не из eShop
  + Если не удалить все CFW программы в обоих секциях 3DS и DSiWare перед удалением самой CFW, то это может заблокировать доступ к меню Управление данными после удаления кастомной прошивки
1. Выключите консоль

#### Часть III - Запуск скрипта для удаления кастомной прошивки

1. Запустите GodMode9, держа нажатой кнопку (Start) во время загрузки
1. Нажмите кнопку (Home) для вызова меню
1. Выберите "Scripts..."
1. Выберите "GM9Megascript"
1. Выберите "Hax Options"
1. Выберите "Un-install Hax"
1. При появлении запроса, нажмите (A) для продолжения
1. Нажмите (A), чтобы разрешить запись в SysNAND (lvl3) и введите указанную комбинацию кнопок
1. Нажмите (A), чтобы продолжить
1. Нажмите (B) для возврата в главное меню
1. Выберите "Exit"
1. Нажмите (A) чтобы восстановить запрет на запись, если появится запрос
1. Нажмите (Start) для перезагрузки

___

Кастомная прошивка была полностью удалена с вашего устройства.
{: .notice--success}

Вы можете удалить все лишние файлы и папки из корня SD-карты, кроме папок `Nintendo 3DS` и `DCIM`.
{: .notice--info}
