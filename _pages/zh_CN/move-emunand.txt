---
title: "Move EmuNAND"
---

{% include toc title="目录内容" %}

### 必读事项

本附加章节将介绍如何将你的 EmuNAND 的数据迁移到新的 SysNAND 自制系统中，然后删除 EmuNAND 分区。 注意EmuNAND和RedNAND是[同一概念](http://3dbrew.org/wiki/NAND_Redirection)的两种略微不同的实现。

注意，如果在SD卡`/luma/payloads/`文件夹下，有除了`GodMode9.firm`以外的payload文件，那么在按住 “Start” 键开机的时候，设备将会进入“chainloader menu”菜单。届时请使用方向键和 “A” 键来选择本教程所需的“GodMode9”。

在开始之前，你 *必须* 确认事先装好了Luma3DS和boot9strap。
{: .notice--danger}

### What You Need

* 已有 EmuNAND 分区
* The latest release of [GodMode9](https://github.com/d0k3/GodMode9/releases/latest)
* The latest release of [FBI](https://github.com/Steveice10/FBI/releases/latest)

### 操作步骤

#### 第一步 — 准备工作

1. Power off your device
1. Insert your SD card into your computer
1. Copy `GodMode9.firm` from the GodMode9 `.zip` to the `/luma/payloads/` folder on your SD card
1. Copy the `gm9` folder from the GodMode9 `.zip` to the root of your SD card
1. Reinsert your SD card into your device

#### Section II - Backup SysNAND DSiWare Saves

If you do not have any DSiWare games or saves that you care about, skip this section.
{: .notice--info}

1. 开机时按住 “Start” 键启动 GodMode9
1. If you are prompted to create an essential files backup, press (A) to do so, then press (A) to continue once it has completed
1. If you are prompted to fix the RTC date&time, press (A) to do so, then set the date and time, then press (A) to continue
  + Note that, if you had to fix the RTC date and time, you will have to fix the time in the System Settings as well after this guide
1. Navigate to `[2:] SYSNAND TWLN` -> `title`
1. Hold (R) and press (A) at the same time on `00030004` to select the folder, then select "Copy to 0:/gm9/out"
  + This process may take some time if you have many DSiWare games
1. Press (B) twice to return to the main menu

#### Section III - Backup GBA VC Saves

If you do not have any GBA VC games or saves that you care about, skip this section.
{: .notice--info}

Note that this is not necessary for any other kind of Virtual Console games (GBC, NES, etc)
{: .notice--info}

游戏存档将会输出到 SD 卡上的 `/gm9/out/` 目录，并命名为 `<TitleID>.gbavc.sav`。
{: .notice--info}

要确定 `<TitleID>.gbavc.sav` 文件的 Title ID 所对应的程序，你可以选中 `[A:] SYSNAND SD` 并同时按下 “R” 键与 “A” 键，然后选择“Search for titles”来获取系统上已安装的游戏的列表及它们对应的 Title ID。
{: .notice--info}

1. Do the following process for each GBA VC game that you want to backup the save for:
  + Launch the GBA VC game
  + 退出游戏并关机
  + Boot your device while holding (Start) to launch the Luma3DS chainloader menu
  + Launch GodMode9 by pressing (A)
  + Navigate to `[S:] SYSNAND VIRTUAL`
  + 在 `agbsave.bin` 上按 “A” 键选中
  + 选择 “AGBSAVE options...”
  + 选择 “Dump GBA VC save”
  + Press (A) to continue
  + Press (Start) to reboot your device

#### Section IV - Copy EmuNAND to SysNAND

1. 开机时按住 “Start” 键启动 GodMode9
1. Navigate to `[E:] EMUNAND VIRTUAL`
1. Press (A) on `nand.bin` to select it, then select "NAND image options...", then select "Restore SysNAND (safe)"
1. Press (A) to unlock SysNAND overwriting, then input the key combo given
  + 这不会覆盖你已安装好的 boot9strap
1. Input the key combo given to unlock SysNAND (lvl1) writing
  + This process will take some time
1. + 完成后，按下 “A” 键以继续
1. Press (B) to decline relocking write permissions if prompted
1. Press (B) to return to the main menu

#### Section V - Restore DSiWare Saves

If you did not backup DSiWare Saves earlier, skip this section.
{: .notice--info}

1. Navigate to `[0:] SDCARD` -> `gm9` -> `out`
1. Press (Y) on the `00030004` folder to copy it
1. 按两次 “B” 键返回到主菜单
1. Navigate to `[2:] SYSNAND TWLN` -> `title`
1. Press (Y) to paste the `00030004` folder
1. Select "Copy path(s)"
1. 按 “A” 键解锁SysNAND (lvl1) 写入权限，并根据屏幕上的提示依次按下按键
1. Select "Overwrite file(s)"
  + This process may take some time if you have many DSiWare games
1. Press (B) to decline relocking write permissions if prompted
1. Press (B) twice to return to the main menu

#### Section VI - Restore GBA VC Saves

If you did not backup GBA VC Saves earlier, skip this section.
{: .notice--info}

To identify a `<TitleID>.gbavc.sav` file's Title ID, you can get a listing of all games on the system and their corresponding Title IDs by holding (R) and pressing (A) on the GodeMode9 main menu, then selecting "Search for titles".
{: .notice--info}

1. Hold (R) and press (Start) at the same time to power off your device
1. Power on your device into SysNAND
1. 对每个 GBA VC 依次执行下列步骤来恢复它们的存档：
  + 启动 GBA VC
  + 退出游戏并关机
  + Boot your device while holding (Start) to launch the Luma3DS chainloader menu
  + Launch GodMode9 by pressing (A)
  + 移动至 `[0:] SDCARD` -> `gm9`
  + 选择你想要恢复的 `<TitleID>.gbavc.sav` 并按 “Y” 键复制
  + Press (B) to return to the main menu
  + Navigate to `[S:] SYSNAND VIRTUAL`
  + 在 `agbsave.bin` 上按 “A” 键选中
  + 选择 “AGBSAVE options...”
  + 选择 “Inject GBA VC save”
  + 按 “A” 键继续
  + Press (Start) to reboot your device
  + 启动 GBA VC
  + 退出游戏并关机
1. 开机时按住 “Start” 键启动 GodMode9

#### Section VII - Backup SysNAND

1. Press (Home) to bring up the action menu
1. Select "Scripts..."
1. 选择“GM9Megascript”
1. 选择 “Backup Options”
1. 选择 “SysNAND Backup”
1. 按(A)键确定
  + 此过程将花费一些时间
  + 如果你遇到了错误, 请确保你的 SD 卡上至少有 1.3GB 的可用空间
1. Press (A) to continue
1. Press (B) to return to the main menu
1. 选择 “Exit”
1. 如果提示重新锁定写入权限，按下 “A” 键来确认
1. 格式化完成后，同时按(R)键和(B)键，弹出你的SD卡
1. Insert your SD card into your computer
1. 从 SD 卡的 `/gm9/out/` 文件夹中复制 `<date>_<serialnumber>_sysnand_###.bin` 和 `essential.exefs` 到电脑中的安全的位置
  + Make backups in multiple locations (such as online file storage)
  + 如果以后机器出现任何问题，这些备份文件将是为你提供修复砖机或从 NAND 镜像恢复文件的帮手
1. 将 `<date>_<serialnumber>_sysnand_###.bin` 和 `<date>_<serialnumber>_sysnand_###.bin.sha` 从您的 SD 卡上的 `/gm9/out/` 文件夹中复制出，随后将其删除
1. **备份你SD卡上的所有文件到你的计算机上。SD卡上的所有文件在接下来将被删除**

#### Section VIII - Format SD card

1. Reinsert your SD card into your device
1. Press (Home) to bring up the action menu
1. Select "More..."
1. 选择”SD format menu”
1. 按 “A” 确认
1. 选择”No EmuNAND”
1. 选择”Auto”
1. Press (A) to accept the label `GM9SD`
  + Optionally, you may input a custom name for the SD card
1. When prompted, input the key combo given to confirm
1. Hold (R) and press (B) at the same time to eject your SD card
1. 将你的 SD 卡插入到电脑
1. Copy all your files back to your SD card
  + Ensure you replace the `boot.firm` file on your SD card with the one from your backup
1. Reinsert your SD card into your device
1. 按(A)键重新加载你的SD卡
1. Press (Start) to reboot
1. 如果出现黑屏，参见这个[问题排查](troubleshooting#ts_sys_down)

___

### Return to [Finalizing Setup](finalizing-setup).
{: .notice--primary}
